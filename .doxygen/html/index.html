<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cryptochat lab: TP chat chiffré</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Cryptochat lab
   </div>
   <div id="projectbrief">A small cryptochat project for a cybersecurity lab</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">TP chat chiffré </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__2home_2mouss_2Documents_2Cours_25A__GPSE__MSc__IoT_2CSec_2TP__CryptoChat_2ANSWERS"></a> </p>
<h1><a class="anchor" id="autotoc_md9"></a>
Introduction</h1>
<ol type="1">
<li>Ce service a une topologie client-serveur</li>
<li>Les messages suivants peuvent être lus depuis le serveur : INFO:ChatServer:gauche send message : qsdfqsdfqsdf INFO:ChatServer:message send to droite</li>
<li>Le contenu des messages envoyés sont écrits en clair dans les logs, le principe de confidentialité est donc violé</li>
<li>La solution la plus simple pour éviter cela est des chiffrer les messages</li>
</ol>
<h1><a class="anchor" id="autotoc_md10"></a>
Chiffrement</h1>
<ol type="1">
<li>La fonction <code>os.urandom()</code> est un bon choix pour la cryptographie car, contrairement à <code>os.random()</code>, qui requiert une graine et génère une sortie pseudo-aléatoire, elle se base sur un grand nombre de facteurs imprévisibles (comme la fréquence des frappes de clavier de l'utilisateur), sans pour autant se baser sur une source de bruit physique (tension amplifiée d'une broche analogique flottante).</li>
<li>Les primitives cryptographiques sont dangereuses car elles proviennent de modules dits "hazardous", potentiellement peu sécurisés en soi ou dont l'implémentation requiert plus de connaissances sur les outils que l'on utilise.</li>
<li>Un serveur malveillant, aussi chiffré puisse-t-il être, peut tout-de-même collecter diverses données sur les utilisateurs et leurs activités dans le but de leur proposer de la publicité ciblée. De plus, rien n'empêcherait un serveur de contenir un virus envoyé à travers les échanges entre utilisateurs, notamment au sein de fichiers comme des images (ce qui s'est déjà vu plusieurs fois sur WhatsApp notamment).</li>
</ol>
<p>8.</p>
<h1><a class="anchor" id="autotoc_md11"></a>
Authenticated Symetric Encryption</h1>
<ol type="1">
<li>Fernet est moins risqué que les modules hazmat car son implémentation est plus sécurisée et plus simple à écrire.</li>
<li>Sur un serveur malveillant, il est possible d'injecter du code comme du SQL ou du Javascript à l'aide d'attaques XSS (sur internet dans les formulaires) ou d'autres méthodes pour les serveurs comme celui que nous avons développé ici.</li>
<li>Pour s'affranchir d'attaques similaires, une bonne méthode consiste à changer le format du message récupéré par le client. Par exemple, dans le cas d'une attaque XSS stockée en Javascript, transformer le script <code>&lt;script&gt;alert("BONJOUR VOUS ÊTES EN TRAIN DE VOUS FAIRE PIRATER")&lt;/script&gt;</code> en chaîne de caractètes qui ne seront que cités réduit le script à l'état de simple citation, le neutralisant entièrement.</li>
</ol>
<h1><a class="anchor" id="autotoc_md12"></a>
TTL</h1>
<ol type="1">
<li>Dans l'utilisation, cette dernière version du GUI de chat est exactement la même que les autres.</li>
<li>Si l'on soustrait 45 au temps d'émission du message, la réception considère que le TTL du message est dépassé. Par conséquent, l'exception InvalidToken est levée.</li>
<li>Si une injection de code est une attaque lente, alors ajouter un TTL est une solution permettant de la pallier.</li>
<li>Une limite de cette solution est que si l'attaquant trouve un moyen de rendre son attaque rapide ou que la connexion entre les utilisateurs est trop lente, des situations indésirables se produisent. Dans le premier cas, l'attaque passe inaperçue tandis que dans le second, l'utilisateur perd la connexion alors que son usage était normal. </li>
</ol>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
